<div class="container pt-5 mb-5">
  <app-header></app-header>

  <div class="row mt-4">
    <div class="col-lg-6 text-right ilustration-container">
      <img src="./../../../assets/images/sigma-image.png" width="80%" alt="Ilustration sigma">
    </div>

    <div class="col-lg-6">
      <div class="card p-4 m-auto ml-0">
        <form class="p-2" [formGroup]="form" (ngSubmit)="send()">
          <div class="form-group">
            <label class="font-weight-bold">Departamento*</label>
            <select required class="form-control" #departamentSelect (change)="changeSelection($event, departamentSelect.value)" formControlName="state">
              <option disabled>Seleccione</option>
              <option *ngFor="let departament of results" [value]="departament.name">{{ departament.name }}</option>
            </select>
          </div>

          <div class="form-group">
            <label class="font-weight-bold">Ciudad*</label>
            <select required class="form-control" formControlName="city">
              <option disabled>Seleccione</option>
              <option *ngFor="let city of cities">{{ city }}</option>
            </select>
          </div>

          <div class="form-group">
            <label class="font-weight-bold">Nombre*</label>
            <input type="text" required class="form-control" formControlName="name">
          </div>

          <div class="form-group">
            <label class="font-weight-bold">Correo*</label>
            <input type="email" required class="form-control" formControlName="email">
          </div>

          <div align="center" class="mt-3">
            <div class="spinner-border text-primary" role="status" *ngIf="loading; else submitButton">
              <span class="sr-only">Loading...</span>
            </div>

            <ng-template #submitButton>
              <button type="submit" class="btn btn-lg pl-5 pr-5" [disabled]="!form.valid">Enviar</button>
            </ng-template>
          </div>

          <div [class]="'alert mt-3 alert-' + typeAlert " role="alert" *ngIf="showAlert">
            {{ message }}
          </div>
        </form>
      </div>
    </div>
  </div>
</div>